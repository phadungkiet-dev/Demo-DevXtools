name: CI Pipeline

# ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£ Push ‡∏´‡∏£‡∏∑‡∏≠ Pull Request ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡∏ó‡∏µ‡πà branch main ‡πÅ‡∏•‡∏∞ develop
on:
  push:
    branches: ["main", "develop"]
  pull_request:
    branches: ["main", "develop"]

jobs:
  quality-check:
    name: üõ°Ô∏è Quality Check
    runs-on: ubuntu-latest
    
    steps:
      # 1. ‡∏î‡∏∂‡∏á Code ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏°‡∏≤
      - name: Checkout Repo
        uses: actions/checkout@v4

      # 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Node.js (‡πÉ‡∏ä‡πâ version 20 ‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)
      - name: Setup Node.js 20
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      # 3. ‡∏•‡∏á Library ‡∏ï‡πà‡∏≤‡∏á‡πÜ (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô npm install)
      - name: Install Dependencies
        run: npm ci

      # 4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Type (TypeScript)
      - name: üîç TypeScript Check
        run: npx tsc --noEmit

      # 5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Code Style (Lint)
      - name: üßπ Lint Check
        run: npm run lint

      # 6. ‡∏•‡∏≠‡∏á Build ‡∏à‡∏£‡∏¥‡∏á (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏û‡∏±‡∏á‡πÑ‡∏´‡∏°)
      - name: üèóÔ∏è Build Test
        run: npm run build